import pytest
import unittest
from component_management.component_management import ComponentManager

class PassTest(unittest.TestCase):
    checker = ComponentManager()
    def test_create_project(self):
        #checks if a project has been correctly created
        #check project not existing
        self.assertFalse(self.checker.check_project_exists("dummy project"))
        #create
        self.checker.create_project("dummy_project","admin")
        #check it now exists
        self.assertTrue(self.checker.check_project_exists("dummy project"))

    def test_add_comp(self):
        #checks if a component has been correctly added to a database
        self.assertFalse(self.checker.check_comp_exists("dummy project", "dummy comp"))
        #
        self.assertTrue(self.checker.check_comp_exists("dummy project", "dummy comp"))
        #required: check_comp_exists
        pass

    def test_remove_comp(self):
        #checks if a component has been correctly removed #
        self.assertTrue(self.checker.check_comp_exists("dummy project", "dummy comp"))
        self.checker.create_component("dummy project", "dummy comp","dummy_type", "dummy_version")
        self.assertFalse(self.checker.check_comp_exists("dummy project", "dummy comp"))


    def test_delete_project(self):
        #use previously created dummy project_name
        #check deleting is allowed -
        self.assertTrue(self.checker.check_project_exists("dummy project"))
        #checkexistence
        #delete
        checker.delete_project("admin","dummy_project")
        #confirm no longer existent
        self.assertFalse(self.checker.check_project_exists("dummy project"))
